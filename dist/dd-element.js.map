{"version":3,"file":"dd-element.js","sourceRoot":"","sources":["../src/dd-element.ts"],"names":[],"mappings":";AAAA;;;GAGG;;;AAEH,iDAA6D;AAE7D,iDAA6D;AAC7D,iDAA6D;AAM7D,MAAa,SAAS;IAYpB,YAAY,EAAiB;QAC3B,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;IACf,CAAC;IAZD,MAAM,CAAC,IAAI,CAAC,EAAiB;QAC3B,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE;YAAE,EAAE,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,EAAE,CAAC,CAAC;SAAE;QACxD,OAAO,EAAE,CAAC,SAAS,CAAC;IACtB,CAAC;IAWM,EAAE,CAAC,SAAiB,EAAE,QAAqC;QAChE,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,MAAM,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE;YACjF,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,SAA8C,EAAE,QAAQ,CAAC,CAAC;SAC/E;aAAM,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,MAAM,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE;YACtF,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,SAA4C,EAAE,QAAQ,CAAC,CAAC;SAC7E;aAAM,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,aAAa,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE;YAC9F,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,SAAoD,EAAE,QAAQ,CAAC,CAAC;SACrF;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,GAAG,CAAC,SAAiB;QAC1B,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,MAAM,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE;YACjF,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,SAA8C,CAAC,CAAC;SACtE;aAAM,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,MAAM,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE;YACtF,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,SAA4C,CAAC,CAAC;SACpE;aAAM,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,aAAa,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE;YAC9F,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,SAAoD,CAAC,CAAC;SAC5E;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,cAAc,CAAC,IAAoB;QACxC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,WAAW,GAAG,IAAI,0BAAW,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;SACnD;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;SACrC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,cAAc;QACnB,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;YAC3B,OAAO,IAAI,CAAC,WAAW,CAAC;SACzB;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,cAAc,CAAC,IAAoB;QACxC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,WAAW,GAAG,IAAI,0BAAW,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;SACnD;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;SACrC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,cAAc;QACnB,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;YAC3B,OAAO,IAAI,CAAC,WAAW,CAAC;SACzB;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,cAAc,CAAC,IAAoB;QACxC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,WAAW,GAAG,IAAI,0BAAW,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;SACnD;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;SACrC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,cAAc;QACnB,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;YAC3B,OAAO,IAAI,CAAC,WAAW,CAAC;SACzB;QACD,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AAxFD,8BAwFC","sourcesContent":["/**\r\n * dd-elements.ts 7.3.0\r\n * Copyright (c) 2021 Alain Dumesny - see GridStack root license\r\n */\r\n\r\nimport { DDResizable, DDResizableOpt } from './dd-resizable';\r\nimport { GridItemHTMLElement } from './types';\r\nimport { DDDraggable, DDDraggableOpt } from './dd-draggable';\r\nimport { DDDroppable, DDDroppableOpt } from './dd-droppable';\r\n\r\nexport interface DDElementHost extends GridItemHTMLElement {\r\n  ddElement?: DDElement;\r\n}\r\n\r\nexport class DDElement {\r\n\r\n  static init(el: DDElementHost): DDElement {\r\n    if (!el.ddElement) { el.ddElement = new DDElement(el); }\r\n    return el.ddElement;\r\n  }\r\n\r\n  public el: DDElementHost;\r\n  public ddDraggable?: DDDraggable;\r\n  public ddDroppable?: DDDroppable;\r\n  public ddResizable?: DDResizable;\r\n\r\n  constructor(el: DDElementHost) {\r\n    this.el = el;\r\n  }\r\n\r\n  public on(eventName: string, callback: (event: MouseEvent) => void): DDElement {\r\n    if (this.ddDraggable && ['drag', 'dragstart', 'dragstop'].indexOf(eventName) > -1) {\r\n      this.ddDraggable.on(eventName as 'drag' | 'dragstart' | 'dragstop', callback);\r\n    } else if (this.ddDroppable && ['drop', 'dropover', 'dropout'].indexOf(eventName) > -1) {\r\n      this.ddDroppable.on(eventName as 'drop' | 'dropover' | 'dropout', callback);\r\n    } else if (this.ddResizable && ['resizestart', 'resize', 'resizestop'].indexOf(eventName) > -1) {\r\n      this.ddResizable.on(eventName as 'resizestart' | 'resize' | 'resizestop', callback);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  public off(eventName: string): DDElement {\r\n    if (this.ddDraggable && ['drag', 'dragstart', 'dragstop'].indexOf(eventName) > -1) {\r\n      this.ddDraggable.off(eventName as 'drag' | 'dragstart' | 'dragstop');\r\n    } else if (this.ddDroppable && ['drop', 'dropover', 'dropout'].indexOf(eventName) > -1) {\r\n      this.ddDroppable.off(eventName as 'drop' | 'dropover' | 'dropout');\r\n    } else if (this.ddResizable && ['resizestart', 'resize', 'resizestop'].indexOf(eventName) > -1) {\r\n      this.ddResizable.off(eventName as 'resizestart' | 'resize' | 'resizestop');\r\n    }\r\n    return this;\r\n  }\r\n\r\n  public setupDraggable(opts: DDDraggableOpt): DDElement {\r\n    if (!this.ddDraggable) {\r\n      this.ddDraggable = new DDDraggable(this.el, opts);\r\n    } else {\r\n      this.ddDraggable.updateOption(opts);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  public cleanDraggable(): DDElement {\r\n    if (this.ddDraggable) {\r\n      this.ddDraggable.destroy();\r\n      delete this.ddDraggable;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  public setupResizable(opts: DDResizableOpt): DDElement {\r\n    if (!this.ddResizable) {\r\n      this.ddResizable = new DDResizable(this.el, opts);\r\n    } else {\r\n      this.ddResizable.updateOption(opts);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  public cleanResizable(): DDElement {\r\n    if (this.ddResizable) {\r\n      this.ddResizable.destroy();\r\n      delete this.ddResizable;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  public setupDroppable(opts: DDDroppableOpt): DDElement {\r\n    if (!this.ddDroppable) {\r\n      this.ddDroppable = new DDDroppable(this.el, opts);\r\n    } else {\r\n      this.ddDroppable.updateOption(opts);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  public cleanDroppable(): DDElement {\r\n    if (this.ddDroppable) {\r\n      this.ddDroppable.destroy();\r\n      delete this.ddDroppable;\r\n    }\r\n    return this;\r\n  }\r\n}\r\n"]}